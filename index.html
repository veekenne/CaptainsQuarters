<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Captain's_quarters</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container" style="position: relative;"></div>
    <h1 id="game-title">Captain's Quarters</h1>
    <script>
        let bg;
        let message = "";
        let score = 0;
        let choices = [];

        function preload() {
            bg = loadImage('bg.png');
        }

        function setup() {
            let canvas = createCanvas(1015, 437);
            canvas.parent('game-container');
        }

        function draw() {
            background(bg);
            displayCoordinates();
            checkInteractiveZones();
            displayMessage();
            displayScore();
        }

        function displayCoordinates() {
            fill(255);
            textSize(16);
            textAlign(RIGHT, BOTTOM);
            text(`x: ${mouseX}, y: ${mouseY}`, width - 10, height - 10);
        }

        function checkInteractiveZones() {
            // Define the coordinates for interactive objects
            let interactiveZones = [
                { x1: 100, y1: 200, x2: 200, y2: 300, message: "You see a man staring at the clocks." }, // Example zone 1
                { x1: 400, y1: 500, x2: 500, y2: 600, message: "The clock ticks loudly." }  // Example zone 2
            ];

            let hovering = false;
            for (let zone of interactiveZones) {
                if (mouseX > zone.x1 && mouseX < zone.x2 && mouseY > zone.y1 && mouseY < zone.y2) {
                    cursor('pointer');
                    hovering = true;
                    break;
                }
            }
            if (!hovering) {
                cursor('default');
            }
        }

        function mousePressed() {
            // Define the coordinates for interactive objects
            let interactiveZones = [
                { x1: 100, y1: 200, x2: 200, y2: 300, message: "You see a man staring at the clocks.", choices: ["Ask the man a question", "Ignore the man"] }, // Example zone 1
                { x1: 400, y1: 500, x2: 500, y2: 600, message: "The clock ticks loudly.", choices: ["Wind the clock", "Leave it alone"] }  // Example zone 2
            ];

            for (let zone of interactiveZones) {
                if (mouseX > zone.x1 && mouseX < zone.x2 && mouseY > zone.y1 && mouseY < zone.y2) {
                    message = zone.message;
                    choices = zone.choices;
                    break;
                }
            }
            displayChoices();
        }

        function displayMessage() {
            if (message !== "") {
                fill(255);
                textSize(20);
                textAlign(CENTER, CENTER);
                textFont('Press Start 2P');
                text(message, width / 2, height - 100);
            }
        }

        function displayChoices() {
            const choiceContainer = document.getElementById('choice-container');
            choiceContainer.innerHTML = '';

            if (choices.length > 0) {
                for (let i = 0; i < choices.length; i++) {
                    let button = document.createElement('button');
                    button.innerHTML = choices[i];
                    button.className = 'choice-button';
                    button.onclick = function() {
                        if (choices[i] === "Ask the man a question") {
                            message = "The man smiles and begins to tell a story about time.";
                            score += 10;
                        } else if (choices[i] === "Ignore the man") {
                            message = "The man frowns and turns away.";
                            score += 5;
                        }
                        choices = [];
                        displayChoices();
                    };
                    choiceContainer.appendChild(button);
                }
            }
        }

        function displayScore() {
            fill(255);
            textSize(16);
            textAlign(LEFT, TOP);
            text(`Score: ${score}`, 10, 10);
        }
    </script>
    <div id="choice-container" style="text-align: center; margin-top: 20px;"></div>
</body>
</html>

